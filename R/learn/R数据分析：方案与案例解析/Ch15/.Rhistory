setwd("F:/Weiyun/R-work/R数据分析：方案与案例解析/Ch14")
install.packages("mlogit")
library(mlogit)
data("Fishing", package = "mlogit")
dim(Fishing)
head(Fishing)
fish <- mlogit.data(Fishing, varying = c(2:9), shape = "wide", choice = "mode")
head(fish)
fish.mlogit <- mlogit(mode ~ price + catch, data = fish)
summary(fish.mlogit)
library(mlogit)
data("Fishing", package = "mlogit")
dim(Fishing)
head(Fishing)
fish <- mlogit.data(Fishing, varying = c(2:9), shape = "wide", choice = "mode")
head(fish)
fish.mlogit <- mlogit(mode ~ price + catch, data = fish)
summary(fish.mlogit)
library(mlogit)
data("Fishing", package = "mlogit")
fish <- mlogit.data(Fishing, varying = c(2:9), shape = "wide", choice = "mode")
head(fish)
fish.mlogit <- mlogit(mode ~ price + catch, data = fish)
summary(fish.mlogit)
data("TraveMode", package = "AER")
install.packages("AER")
data("TravelMode", package = "AER")
data("TravelMode", package = "AER")
TravelMode$avincome <- with(TravelMode, income*(mode=="air"))
TravelMode$time <- with(TravelMode, travel + wait)/60
TravelMode$timeair <- with(TravelMode, time*I(mode=="air"))
TravelMode$income <- with(TravelMode, income/10)
TravelMode$incomeother <- with(TravelMode, ifelse(mode %in% c('air', 'car'), income, 0))
head(TravelMode)
nests = list(public=c('train', 'bus'), other=c('car', 'air')))
nl <- mlogit(choice ~ gcost + wait ~ incomeother, TravelMode, shape='long', alt.var='mode',nests = list(public=c('train', 'bus'), other=c('car', 'air')))
nl <- mlogit(choice ~ gcost + wait + incomeother, TravelMode, shape='long', alt.var='mode',nests = list(public=c('train', 'bus'), other=c('car', 'air')))
summary(nl)
data("TravelMode", package = "AER")
##用with()函数对数据进行转换，对data进行表达式运算
TravelMode$avincome <- with(TravelMode, income*(mode=="air"))
TravelMode$time <- with(TravelMode, travel + wait)/60
TravelMode$timeair <- with(TravelMode, time*I(mode=="air"))
TravelMode$income <- with(TravelMode, income/10)
TravelMode$incomeother <- with(TravelMode, ifelse(mode %in% c('air', 'car'), income, 0))
head(TravelMode)
nl <- mlogit(choice ~ gcost + wait + incomeother, TravelMode, shape='long', alt.var='mode',nests = list(public=c('train', 'bus'), other=c('car', 'air')))
summary(nl)
setwd("F:/Weiyun/R-work/R数据分析：方案与案例解析/Ch15")
ship <- read.table(file = "eg15.1.txt")
attach(ship)
summay(ship[, -1])
summary(ship[, -1])
hist(Acc)
hist(Ac)
attach(ship)
hist(Acc)
hist(ship$Acc)
View(ship)
ship <- read.table(file = "eg15.1.txt", header = T)
ship <- read.table(file = "eg15.1.txt", header = T)
attach(ship)
summary(ship[, -1])
hist(ship$Acc)
hist(Acc)
ship <- read.table(file = "eg15.1.txt", header = T)
attach(ship)
summary(ship[, -1])
hist(Acc)
ship.glm <-glm(Acc ~ TB + TC + TD + TE + T6569 + T7074 + T7579 + O7579 + log(Mon), family = possion())
ship.glm <-glm(Acc ~ TB + TC + TD + TE + T6569 + T7074 + T7579 + O7579 + log(Mon), family = possion(), data = ship)
ship.glm <-glm(Acc ~ TB + TC + TD + TE + T6569 + T7074 + T7579 + O7579 + log(Mon), family = poission())
ship.glm <-glm(Acc ~ TB + TC + TD + TE + T6569 + T7074 + T7579 + O7579 + log(Mon), family = poisson())
summary(ship.glm)
ship <- read.table(file = "eg15.1.txt", header = T)
attach(ship)
summary(ship[, -1])
hist(Acc)
ship.glm <-glm(Acc ~ TB + TC + TD + TE + T6569 + T7074 + T7579 + O7579 + log(Mon), family = poisson())
summary(ship.glm)
View(ship)
